(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-529c3625"],{"05cd":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"lan-main-three"},[o("div",{attrs:{id:"canvas"}}),e._v(" "),o("lan-setting",{attrs:{maxWidth:300}},[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[o("el-form-item",{attrs:{label:"质点A的质量kg"}},[o("el-input",{model:{value:e.form.massA,callback:function(t){e.$set(e.form,"massA",t)},expression:"form.massA"}},[o("template",{slot:"append"},[e._v("x10^24kg")])],2)],1),e._v(" "),o("el-form-item",{attrs:{label:"质点A的坐标"}},[o("el-input",{model:{value:e.form.locA,callback:function(t){e.$set(e.form,"locA",t)},expression:"form.locA"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"质点A的速度向量"}},[o("el-input",{model:{value:e.form.speedA,callback:function(t){e.$set(e.form,"speedA",t)},expression:"form.speedA"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"质点B的质量kg"}},[o("el-input",{model:{value:e.form.massB,callback:function(t){e.$set(e.form,"massB",t)},expression:"form.massB"}},[o("template",{slot:"append"},[e._v("x10^24kg")])],2)],1),e._v(" "),o("el-form-item",{attrs:{label:"质点B的坐标"}},[o("el-input",{model:{value:e.form.locB,callback:function(t){e.$set(e.form,"locB",t)},expression:"form.locB"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"质点B的速度向量"}},[o("el-input",{model:{value:e.form.speedB,callback:function(t){e.$set(e.form,"speedB",t)},expression:"form.speedB"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"运动速度值"}},[o("el-input",{model:{value:e.form.speed,callback:function(t){e.$set(e.form,"speed",t)},expression:"form.speed"}})],1)],1),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.start}},[e._v("开始")])],1)],1)},a=[],s=(o("c5f6"),o("28a5"),o("5a89")),i=(o("b3fd"),o("3191")),r=o.n(i),c=o("d545"),p=.5,d={getPointObjectPosition:function(e){var t=e.split(","),o=new s["M"](new s["lb"](p,32,32),new s["N"]({color:"#FFFFFF"}));return o.position.set(t[0],0,t[1]),o},getCentroidPosition:function(e,t,o,n){var a=(t*Number(e[0])+n*Number(o[0]))/(t+n),i=(t*Number(e[1])+n*Number(o[1]))/(t+n),r=new s["M"](new s["lb"](p/2,32,32),new s["N"]({color:"#FF0000"}));return r.position.set(a,0,i),r},getCentroidSpeed:function(e,t,o,n){var a=(e[0]*t+o[0]*n)/(t+n),s=(e[1]*t+o[1]*n)/(t+n);return[a,s]},getDistance:function(e,t){var o=c["a"].getEuclideanDistance(e,t),n=c["a"].VectorOperation(t,e,"-"),a=Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2));return[n[0]/a*o,n[1]/a*o]},getGravitation:function(e,t,o){var n=6.754*Math.pow(10,-11),a=Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2))*Math.pow(10,8),s=n*e*t/Math.pow(a,2);return s},getLinearVelocity:function(e,t,o){var n=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)),a=Math.sqrt(o*n*Math.pow(10,8)/e);return a},getPosition:function(e,t,o,n,a,s){var i=[Number(e.split(",")[0]),Number(e.split(",")[1])],r=(c["a"].getEuclideanDistance(e,t),Math.pow(10,8),o/n),p=r*this.getResolve(c["a"].VectorOperation(e,t,"-"),"x"),d=r*this.getResolve(c["a"].VectorOperation(e,t,"-"),"y"),l=this.getResolve(a,"x"),h=this.getResolve(a,"y"),u=l*s+.5*p*s*s+i[0],m=h*s+.5*d*s*s+i[1];return[u,m]},getVelocity:function(e,t,o,n,a,s){var i=o/n;this.getResolve(c["a"].VectorOperation(e,t,"-"),"x"),this.getResolve(c["a"].VectorOperation(e,t,"-"),"y"),this.getResolve(a,"x"),this.getResolve(a,"y")},getResolve:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",o=e[0],n=e[1];return"x"===t?o/Math.sqrt(o*o+n*n):"y"===t?n/Math.sqrt(o*o+n*n):void 0}},l=d,h=o("abaa"),u={name:"Astronomy",components:{LanSetting:h["a"]},data:function(){return{scene:"",camera:"",renderer:"",stats:"",controls:"",aspect:window.innerWidth/window.innerHeight,startAnimation:!1,form:{massA:20,locA:"-5, 5",speedA:"-1, -1",massB:20,locB:"5, 5",speedB:"1, 1",speed:3},pA:"",speedA:[0,0],pB:"",speedB:[0,0],centroid:"",speenC:[0,0]}},computed:{},mounted:function(){this.init(),this.animate()},methods:{start:function(){if(!this.startAnimation){this.$logger.log("start");var e=this.form.locA.split(","),t=this.form.locB.split(",");this.centroid=l.getCentroidPosition([Number(e[0]),Number(e[1])],Number(this.form.massA),[Number(t[0]),Number(t[1])],Number(this.form.massB));var o=this.form.speedA.split(","),n=this.form.speedB.split(",");this.speedA=[Number(o[0]),Number(o[1])],this.speedB=[Number(n[0]),Number(n[1])],this.speedC=l.getCentroidSpeed(this.speedA,this.form.massA,this.speedB,this.form.massB),this.scene.add(this.centroid)}this.startAnimation=!this.startAnimation,this.$logger.log("speedC:",this.speedC)},init:function(){var e=new s["hb"];this.scene=e;var t=new s["r"](100,100,"#C0C0C0","#303030");e.add(t);var o=new s["W"](45,this.aspect,1,1e3);o.position.x=0,o.position.y=-120,o.position.z=0,o.lookAt(0,0,0),e.add(o),this.camera=o,this.pA=l.getPointObjectPosition(this.form.locA),this.pB=l.getPointObjectPosition(this.form.locB),e.add(this.pA),e.add(this.pB);var n=document.createElement("div");document.getElementById("canvas").appendChild(n);var a=new s["ub"]({antialias:!0});a.setPixelRatio(window.devicePixelRatio),a.setSize(window.innerWidth,window.innerHeight),n.appendChild(a.domElement),this.renderer=a,this.stats=new r.a,n.appendChild(this.stats.dom)},animate:function(){requestAnimationFrame(this.animate),this.stats.update(),this.render()},render:function(){if(this.startAnimation){var e=.01*Number(this.form.speed),t=this.pA,o=this.pB,n=this.centroid,a=t.position.x+","+t.position.z,s=o.position.x+","+o.position.z,i=n.position.x+","+n.position.z;this.$logger.log("la. lb. lc:",a,s,i);var r=c["a"].VectorOperation(a,s,"-"),p=(c["a"].getEuclideanDistance(a,i),l.getGravitation(Number(this.form.massA)*Math.pow(10,24),Number(this.form.massB)*Math.pow(10,24),r)),d=l.getPosition(a,i,p,Number(this.form.massA)*Math.pow(10,24),this.speedA,e);this.speedA=l.getVelocity(a,p,Number(this.form.massA)*Math.pow(10,24),this.speedA,e),t.position.x=d[0],t.position.y=d[1];var h=n.x+this.speedC[0]*speed,u=n.z+this.speedC[1]*speed;n.position.x+=h,n.position.z+=u}this.renderer.render(this.scene,this.camera)}}},m=u,f=o("2877"),b=Object(f["a"])(m,n,a,!1,null,"210fe10e",null);t["default"]=b.exports},"0f5c":function(e,t,o){},"5a37":function(e,t,o){"use strict";var n=o("bd59"),a=o.n(n);a.a},"9fd9":function(e,t,o){"use strict";var n=o("0f5c"),a=o.n(n);a.a},abaa:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"rightPanel",staticClass:"lan-setting",class:{show:e.show}},[o("div",{staticClass:"rightPanel-background"}),e._v(" "),o("div",{staticClass:"rightPanel",style:{"max-width":e.maxWidth+"px"}},[o("div",{staticClass:"handle-button",style:{top:e.buttonTop+"px"},on:{click:function(t){e.show=!e.show}}},[o("i",{class:e.show?"el-icon-close":"el-icon-setting"})]),e._v(" "),o("div",{staticClass:"rightPanel-items"},[e._t("default")],2)])])},a=[],s=(o("c5f6"),o("ed08")),i={name:"lanSetting",props:{clickNotClose:{default:!1,type:Boolean},buttonTop:{default:250,type:Number},maxWidth:{type:Number,default:260}},data:function(){return{show:!1}},watch:{show:function(e){e&&!this.clickNotClose&&this.addEventClick(),e?Object(s["a"])(document.body,"showRightPanel"):Object(s["c"])(document.body,"showRightPanel")}},mounted:function(){this.insertToBody()},beforeDestroy:function(){var e=this.$refs.rightPanel;e.remove()},methods:{addEventClick:function(){window.addEventListener("click",this.closeSidebar)},closeSidebar:function(e){var t=e.target.closest(".rightPanel");t||(this.show=!1,window.removeEventListener("click",this.closeSidebar))},insertToBody:function(){var e=this.$refs.rightPanel,t=document.querySelector("body");t.insertBefore(e,t.firstChild)}}},r=i,c=(o("9fd9"),o("5a37"),o("2877")),p=Object(c["a"])(r,n,a,!1,null,"390d38d9",null);t["a"]=p.exports},b3fd:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));o("ac6a"),o("673e");var n=o("5a89"),a=function(e,t){void 0===t&&console.warn('THREE.TrackballControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.TrackballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');var o=this,a={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=t,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.mouseButtons={LEFT:n["H"].ROTATE,MIDDLE:n["H"].ZOOM,RIGHT:n["H"].PAN},this.target=new n["sb"];var s=1e-6,i=new n["sb"],r=1,c=a.NONE,p=a.NONE,d=new n["sb"],l=new n["rb"],h=new n["rb"],u=new n["sb"],m=0,f=new n["rb"],b=new n["rb"],v=0,g=0,w=new n["rb"],y=new n["rb"];this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom;var E={type:"change"},N={type:"start"},M={type:"end"};this.handleResize=function(){var e=this.domElement.getBoundingClientRect(),t=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-t.clientLeft,this.screen.top=e.top+window.pageYOffset-t.clientTop,this.screen.width=e.width,this.screen.height=e.height};var O=function(){var e=new n["rb"];return function(t,n){return e.set((t-o.screen.left)/o.screen.width,(n-o.screen.top)/o.screen.height),e}}(),A=function(){var e=new n["rb"];return function(t,n){return e.set((t-.5*o.screen.width-o.screen.left)/(.5*o.screen.width),(o.screen.height+2*(o.screen.top-n))/o.screen.width),e}}();function k(e){!1!==o.enabled&&(window.removeEventListener("keydown",k),p===a.NONE&&(e.keyCode!==o.keys[a.ROTATE]||o.noRotate?e.keyCode!==o.keys[a.ZOOM]||o.noZoom?e.keyCode!==o.keys[a.PAN]||o.noPan||(p=a.PAN):p=a.ZOOM:p=a.ROTATE))}function j(){!1!==o.enabled&&(p=a.NONE,window.addEventListener("keydown",k,!1))}function C(e){if(!1!==o.enabled){if(e.preventDefault(),e.stopPropagation(),c===a.NONE)switch(e.button){case o.mouseButtons.LEFT:c=a.ROTATE;break;case o.mouseButtons.MIDDLE:c=a.ZOOM;break;case o.mouseButtons.RIGHT:c=a.PAN;break;default:c=a.NONE}var t=p!==a.NONE?p:c;t!==a.ROTATE||o.noRotate?t!==a.ZOOM||o.noZoom?t!==a.PAN||o.noPan||(w.copy(O(e.pageX,e.pageY)),y.copy(w)):(f.copy(O(e.pageX,e.pageY)),b.copy(f)):(h.copy(A(e.pageX,e.pageY)),l.copy(h)),document.addEventListener("mousemove",x,!1),document.addEventListener("mouseup",P,!1),o.dispatchEvent(N)}}function x(e){if(!1!==o.enabled){e.preventDefault(),e.stopPropagation();var t=p!==a.NONE?p:c;t!==a.ROTATE||o.noRotate?t!==a.ZOOM||o.noZoom?t!==a.PAN||o.noPan||y.copy(O(e.pageX,e.pageY)):b.copy(O(e.pageX,e.pageY)):(l.copy(h),h.copy(A(e.pageX,e.pageY)))}}function P(e){!1!==o.enabled&&(e.preventDefault(),e.stopPropagation(),c=a.NONE,document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",P),o.dispatchEvent(M))}function T(e){if(!1!==o.enabled&&!0!==o.noZoom){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:f.y-=.025*e.deltaY;break;case 1:f.y-=.01*e.deltaY;break;default:f.y-=25e-5*e.deltaY;break}o.dispatchEvent(N),o.dispatchEvent(M)}}function R(e){if(!1!==o.enabled){switch(e.preventDefault(),e.touches.length){case 1:c=a.TOUCH_ROTATE,h.copy(A(e.touches[0].pageX,e.touches[0].pageY)),l.copy(h);break;default:c=a.TOUCH_ZOOM_PAN;var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY;g=v=Math.sqrt(t*t+n*n);var s=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;w.copy(O(s,i)),y.copy(w);break}o.dispatchEvent(N)}}function L(e){if(!1!==o.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:l.copy(h),h.copy(A(e.touches[0].pageX,e.touches[0].pageY));break;default:var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY;g=Math.sqrt(t*t+n*n);var a=(e.touches[0].pageX+e.touches[1].pageX)/2,s=(e.touches[0].pageY+e.touches[1].pageY)/2;y.copy(O(a,s));break}}function B(e){if(!1!==o.enabled){switch(e.touches.length){case 0:c=a.NONE;break;case 1:c=a.TOUCH_ROTATE,h.copy(A(e.touches[0].pageX,e.touches[0].pageY)),l.copy(h);break}o.dispatchEvent(M)}}function D(e){!1!==o.enabled&&e.preventDefault()}this.rotateCamera=function(){var e,t=new n["sb"],a=new n["cb"],s=new n["sb"],i=new n["sb"],r=new n["sb"],c=new n["sb"];return function(){c.set(h.x-l.x,h.y-l.y,0),e=c.length(),e?(d.copy(o.object.position).sub(o.target),s.copy(d).normalize(),i.copy(o.object.up).normalize(),r.crossVectors(i,s).normalize(),i.setLength(h.y-l.y),r.setLength(h.x-l.x),c.copy(i.add(r)),t.crossVectors(c,d).normalize(),e*=o.rotateSpeed,a.setFromAxisAngle(t,e),d.applyQuaternion(a),o.object.up.applyQuaternion(a),u.copy(t),m=e):!o.staticMoving&&m&&(m*=Math.sqrt(1-o.dynamicDampingFactor),d.copy(o.object.position).sub(o.target),a.setFromAxisAngle(u,m),d.applyQuaternion(a),o.object.up.applyQuaternion(a)),l.copy(h)}}(),this.zoomCamera=function(){var e;c===a.TOUCH_ZOOM_PAN?(e=v/g,v=g,o.object.isPerspectiveCamera?d.multiplyScalar(e):o.object.isOrthographicCamera?(o.object.zoom*=e,o.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(e=1+(b.y-f.y)*o.zoomSpeed,1!==e&&e>0&&(o.object.isPerspectiveCamera?d.multiplyScalar(e):o.object.isOrthographicCamera?(o.object.zoom/=e,o.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),o.staticMoving?f.copy(b):f.y+=(b.y-f.y)*this.dynamicDampingFactor)},this.panCamera=function(){var e=new n["rb"],t=new n["sb"],a=new n["sb"];return function(){if(e.copy(y).sub(w),e.lengthSq()){if(o.object.isOrthographicCamera){var n=(o.object.right-o.object.left)/o.object.zoom/o.domElement.clientWidth,s=(o.object.top-o.object.bottom)/o.object.zoom/o.domElement.clientWidth;e.x*=n,e.y*=s}e.multiplyScalar(d.length()*o.panSpeed),a.copy(d).cross(o.object.up).setLength(e.x),a.add(t.copy(o.object.up).setLength(e.y)),o.object.position.add(a),o.target.add(a),o.staticMoving?w.copy(y):w.add(e.subVectors(y,w).multiplyScalar(o.dynamicDampingFactor))}}}(),this.checkDistances=function(){o.noZoom&&o.noPan||(d.lengthSq()>o.maxDistance*o.maxDistance&&(o.object.position.addVectors(o.target,d.setLength(o.maxDistance)),f.copy(b)),d.lengthSq()<o.minDistance*o.minDistance&&(o.object.position.addVectors(o.target,d.setLength(o.minDistance)),f.copy(b)))},this.update=function(){d.subVectors(o.object.position,o.target),o.noRotate||o.rotateCamera(),o.noZoom||o.zoomCamera(),o.noPan||o.panCamera(),o.object.position.addVectors(o.target,d),o.object.isPerspectiveCamera?(o.checkDistances(),o.object.lookAt(o.target),i.distanceToSquared(o.object.position)>s&&(o.dispatchEvent(E),i.copy(o.object.position))):o.object.isOrthographicCamera?(o.object.lookAt(o.target),(i.distanceToSquared(o.object.position)>s||r!==o.object.zoom)&&(o.dispatchEvent(E),i.copy(o.object.position),r=o.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){c=a.NONE,p=a.NONE,o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.up.copy(o.up0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),d.subVectors(o.object.position,o.target),o.object.lookAt(o.target),o.dispatchEvent(E),i.copy(o.object.position),r=o.object.zoom},this.dispose=function(){this.domElement.removeEventListener("contextmenu",D,!1),this.domElement.removeEventListener("mousedown",C,!1),this.domElement.removeEventListener("wheel",T,!1),this.domElement.removeEventListener("touchstart",R,!1),this.domElement.removeEventListener("touchend",B,!1),this.domElement.removeEventListener("touchmove",L,!1),document.removeEventListener("mousemove",x,!1),document.removeEventListener("mouseup",P,!1),window.removeEventListener("keydown",k,!1),window.removeEventListener("keyup",j,!1)},this.domElement.addEventListener("contextmenu",D,!1),this.domElement.addEventListener("mousedown",C,!1),this.domElement.addEventListener("wheel",T,!1),this.domElement.addEventListener("touchstart",R,!1),this.domElement.addEventListener("touchend",B,!1),this.domElement.addEventListener("touchmove",L,!1),window.addEventListener("keydown",k,!1),window.addEventListener("keyup",j,!1),this.handleResize(),this.update()};a.prototype=Object.create(n["m"].prototype),a.prototype.constructor=a},bd59:function(e,t,o){},d545:function(e,t,o){"use strict";o("ac6a"),o("28a5"),o("c5f6");t["a"]={getPlusOrMinus:function(){var e=Math.random()-.5;return e<0?-1:1},getRandomInt:function(e){var t=Math.random()*e;return Number(t.toFixed(0))},solveQuadraticEquation:function(e,t,o){var n=Math.pow(t,2)-4*e*o;return n<0?[]:0===n?[t/2/e*-1]:[(-1*t+Math.sqrt(n))/2/e,(-1*t-Math.sqrt(n))/2/e]},VectorOperation:function(e,t,o){var n,a;return n="string"===typeof e?[Number(e.split(",")[0]),Number(e.split(",")[1])]:e,a="string"===typeof t?[Number(t.split(",")[0]),Number(t.split(",")[1])]:t,"+"===o?[a[0]+n[0],a[1]+n[1]]:"-"===o?[a[0]-n[0],a[1]-n[1]]:void 0},getNormalDistribution:function(e,t){var o=Number(e),n=Number(t),a=Math.random(),s=Math.random(),i=Math.sqrt(-2*Math.log(a)),r=2*Math.PI*s,c=i*Math.sin(r),p=o+c*n;return Number(p.toFixed(4))},getEuclideanDistance:function(e,t){var o=e.split(","),n=t.split(","),a=0;return o.forEach((function(e,t){var s=Math.pow(Number(o[t])-Number(n[t]),2);a+=s})),a=Math.sqrt(a),a},getMinkowskiDistance:function(e,t,o){var n=e.split(","),a=t.split(","),s=Number(o);if(s){var i=0;return n.forEach((function(e,t){var s=Math.abs(n[t]-a[t]);i+=Math.pow(s,o)})),i=Math.pow(i,1/o),i}if(0===s){var r=[];return n.forEach((function(e,t){var o=Math.abs(n[t]-a[t]);r.push(o)})),Math.max.apply(Math,r)}},getCosineSimilarity:function(e,t){var o=e.split(","),n=t.split(","),a=0,s=0,i=0;o.forEach((function(e,t){a+=o[t]*n[t],s+=Math.pow(o[t],2),i+=Math.pow(n[t],2)}));var r=a/(Math.sqrt(s)*Math.sqrt(i));return r}}},ed08:function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return s})),o.d(t,"c",(function(){return i}));o("3b2b"),o("4917"),o("4f7f"),o("5df3"),o("1c4c"),o("28a5"),o("ac6a"),o("456d"),o("f576"),o("a481"),o("6b54"),o("7618");function n(){var e=Math.floor(256*Math.random()),t=Math.floor(256*Math.random()),o=Math.floor(256*Math.random());return"rgb(".concat(e,",").concat(t,",").concat(o,")")}function a(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function s(e,t){a(e,t)||(e.className+=" "+t)}function i(e,t){if(a(e,t)){var o=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(o," ")}}}}]);