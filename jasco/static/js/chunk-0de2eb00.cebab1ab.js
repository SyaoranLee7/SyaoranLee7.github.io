(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0de2eb00"],{1:function(e,t){},"1fe1":function(e,t,r){e.exports={menuText:"rgba(25,28,34,0.8)",menuActiveText:"#4D9BD5",subMenuActiveText:"#4D9BD5",menuBg:"#fff",menuHover:"rgba(77,155,213,0.2)",subMenuBg:"#F4F5F9",subMenuHover:"rgba(77,155,213,0.2)",sideBarWidth:"240px",activeBg:"rgba(77,155,213,0.1)",hoverBg:"rgba(25,28,34,0.05)"}},"61b2":function(e,t,r){"use strict";r("b3c4")},6606:function(e,t,r){"use strict";r("1fe1")},"9ed6":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[r("h3",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,"label-position":"left","label-width":"0"}},[r("div",{staticClass:"login-form-title"},[e._v("登录")]),e._v(" "),r("el-form-item",{attrs:{prop:"userName"}},[r("label",[e._v("账号")]),e._v(" "),r("mt-input",{ref:"userName",attrs:{simple:"",placeholder:"请输入用户名"},model:{value:e.loginForm.userName,callback:function(t){e.$set(e.loginForm,"userName",t)},expression:"loginForm.userName"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("label",[e._v("密码")]),e._v(" "),r("mt-input",{ref:"password",attrs:{type:e.passwordType,simple:"",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),e._v(" "),r("div",{staticClass:"show-pwd",on:{click:e.showPwd}},[r("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),e._v(" "),r("mt-button",{staticClass:"login-btn",staticStyle:{width:"100%"},attrs:{loading:e.loginLoading,height:"4rem"},on:{click:e.handleLogin}},[e._v("\n      登录\n    ")]),e._v(" "),r("div",{staticClass:"login-promt",on:{click:e.goRegister}},[e._v("\n      没有账号?去注册>\n    ")])],1)],1)},o=[],s=(r("ac6a"),r("456d"),r("96cf"),r("1da1")),i=(r("3452"),{name:"Login",data:function(){return{title:SETTING.title,type:"login",loginForm:{userName:"admin",password:"admin123"},passwordType:"password",loginLoading:!1,redirect:void 0,otherQuery:{}}},watch:{$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},created:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=navigator.userAgent,t.indexOf("Chrome");case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){""===this.loginForm.userName?this.$refs.userName.$children[0].focus():""===this.loginForm.password&&this.$refs.password.$children[0].focus()},methods:{showPwd:function(){this.passwordType="password"===this.passwordType?"text":"password"},handleLogin:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.loginForm.validate(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=7;break}return t.loading=!0,n={userName:t.loginForm.userName,password:t.loginForm.password},e.next=5,t.$request.post(t.API.LOGIN,n,{noGlobalParams:!0}).then((function(e){e.success?t.$store.dispatch("user/login",e.data).then((function(){t.DICT.clearAllDict(),t.$router.push("/"),t.loading=!1})).catch((function(){t.loading=!1})):t.loading=!1}));case 5:e.next=9;break;case 7:return t.loading=!1,e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getOtherQuery:function(e){return Object.keys(e).reduce((function(t,r){return"redirect"!==r&&(t[r]=e[r]),t}),{})},goRegister:function(){this.$router.push("/register")}}}),a=i,u=(r("61b2"),r("6606"),r("2877")),c=Object(u["a"])(a,n,o,!1,null,"d788eece",null);t["default"]=c.exports},b3c4:function(e,t,r){}}]);